{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nfunction handlerFormInput(event) {\n  if (event.target.name === 'email' || event.target.name === 'message') {\n    const formData = {\n      email: form.elements.email.value,\n      message: form.elements.message.value,\n    };\n\n    saveFormData(formData);\n  }\n}\n\nfunction saveFormData(formData) {\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction getFormData() {\n  return localStorage.getItem('feedback-form-state');\n}\n\nfunction restoreFormData() {\n  const restoredFormData = JSON.parse(getFormData());\n  if (restoredFormData) {\n    const { email, message } = restoredFormData;\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n  }\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const formData = JSON.parse(getFormData());\n\n  if (!formData.email || !formData.message) {\n    alert('All field must be completed!');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n\n  form.reset();\n}\n\nrestoreFormData();\n\nform.addEventListener('input', throttle(handlerFormInput, 500));\nform.addEventListener('submit', handleFormSubmit);\n"],"names":["form","handlerFormInput","event","formData","saveFormData","getFormData","restoreFormData","restoredFormData","email","message","handleFormSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,EAAiBC,EAAO,CAC/B,GAAIA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,UAAW,CACpE,MAAMC,EAAW,CACf,MAAOH,EAAK,SAAS,MAAM,MAC3B,QAASA,EAAK,SAAS,QAAQ,KACrC,EAEII,EAAaD,CAAQ,CACtB,CACH,CAEA,SAASC,EAAaD,EAAU,CAC9B,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAQ,CAAC,CACtE,CAEA,SAASE,GAAc,CACrB,OAAO,aAAa,QAAQ,qBAAqB,CACnD,CAEA,SAASC,GAAkB,CACzB,MAAMC,EAAmB,KAAK,MAAMF,EAAa,CAAA,EACjD,GAAIE,EAAkB,CACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGF,EAC3BP,EAAK,SAAS,MAAM,MAAQQ,EAC5BR,EAAK,SAAS,QAAQ,MAAQS,CAC/B,CACH,CAEA,SAASC,EAAiBR,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,KAAK,MAAME,EAAa,CAAA,EAEzC,GAAI,CAACF,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,8BAA8B,EACpC,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAE7CH,EAAK,MAAK,CACZ,CAEAM,IAEAN,EAAK,iBAAiB,QAASW,EAASV,EAAkB,GAAG,CAAC,EAC9DD,EAAK,iBAAiB,SAAUU,CAAgB"}